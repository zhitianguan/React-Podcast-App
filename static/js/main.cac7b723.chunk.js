(this["webpackJsonppodcast-react-app"]=this["webpackJsonppodcast-react-app"]||[]).push([[0],{100:function(e,t,a){e.exports=a(142)},105:function(e,t,a){},107:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),s=a.n(r),o=a(170),i=(a(105),a(21)),l=a.n(i),m=a(66),u=a(56),d=a(57),p=a(64),h=a(63),E=(a(107),a(167)),g=a(168),f=a(171),b=a(169),v=a(161),y=a(90),S=a(149),x=a(159),k=a(162),T=a(163),P=a(164),j=a(165),C=function(e){var t=e.podcast,a=e.onPodcastSelect,n=Object(x.a)({root:{minHeight:"325px",width:"100%"},actionArea:{height:"100%"},media:{height:0,paddingTop:"70%",marginTop:"30"}})();return c.a.createElement(v.a,{item:!0,xs:12,sm:6,md:4,lg:3,className:n.root},c.a.createElement(k.a,null,c.a.createElement(T.a,{onClick:function(){return a(t)},className:n.actionArea},c.a.createElement(P.a,{className:n.media,image:t.artworkUrl600,title:t.collectionName}),c.a.createElement(j.a,null,c.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},t.collectionName),c.a.createElement(S.a,{variant:"body2",color:"textSecondary",component:"p"},"Genre: "+t.primaryGenreName)))))},w=function(e){var t=e.subscriptionList,a=e.podcasts,n=e.onPodcastSelect;if(void 0===a)return null;if(a.length<1)return t?c.a.createElement(v.a,{item:!0,justify:"center",container:!0},c.a.createElement(v.a,{item:!0},c.a.createElement(S.a,{variant:"h5",style:{marginTop:"80px",justifyContent:"center"}},"You have no current subscriptions"))):c.a.createElement(v.a,{item:!0,justify:"center",container:!0},c.a.createElement(v.a,{item:!0},c.a.createElement(S.a,{variant:"h5",style:{marginTop:"80px",marginBottom:"10px",justifyContent:"center"}},"Couldn't find a podcast with that name")));var r=a.map((function(e){return c.a.createElement(C,{onPodcastSelect:n,key:e.collectionId,podcast:e})}));return c.a.createElement(v.a,{container:!0,spacing:4},r)},N=a(94),O=a.n(N),A=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({searchTerm:e})},n.handleSubmit=function(){var e=n.state.searchTerm;(0,n.props.onFormSubmit)(e)},n.state={searchTerm:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(O.a,{value:this.state.searchTerm,onChange:this.handleChange,onRequestSearch:this.handleSubmit,onCancelSearch:function(){e.setState({searchTerm:""})}})}}]),a}(c.a.Component),B=function(e){var t=e.podcasts,a=e.getPodcast,n=e.setSelectedPodcast;return c.a.createElement(v.a,{item:!0,xs:10},c.a.createElement(v.a,{item:!0,container:!0,spacing:3,style:{justifyContent:"center"}},c.a.createElement(v.a,{item:!0,xs:8,style:{marginTop:"10px"}},c.a.createElement(A,{onFormSubmit:a})),c.a.createElement(v.a,{item:!0,xs:12},c.a.createElement(w,{podcasts:t,onPodcastSelect:n}))))},I=a(166),U=a(172),F=a(95),G=a.n(F),D=function(e){var t=e.track,a=e.onTrackSelect,n=Array.prototype.slice.call(t.getElementsByTagName("title")),r=Object(x.a)({media:{height:0,paddingTop:"70%",marginTop:"30"},playIcon:{verticalAlign:"middle",color:" #a93226",marginRight:"10px",marginBottom:"0"}})();return c.a.createElement(v.a,{item:!0,xs:12},c.a.createElement(k.a,null,c.a.createElement(T.a,{onClick:function(){return a(t)}},c.a.createElement(j.a,null,c.a.createElement(S.a,{variant:"h6",noWrap:!0},c.a.createElement(G.a,{className:r.playIcon}),n[0].childNodes[0].nodeValue)))))},L=function(e){e.podcast;var t=e.tracks,a=e.onTrackSelect;if(void 0===t)return null;var n=Array.prototype.slice.call(t).map((function(e){return c.a.createElement(D,{onTrackSelect:a,key:e,track:e})}));return c.a.createElement(v.a,{item:!0,container:!0,direction:"column",style:{maxWidth:"750px"},spacing:1},n)},R=function(e){var t=e.selectedPodcast,a=e.tracks,n=e.setSelectedTrack,r=e.toggleSubscription,s=e.subscribed,o=Object(x.a)({media:{width:"250px",height:"250px"}})();return void 0===t?c.a.createElement(v.a,{item:!0,style:{marginTop:"100px",justifyContent:"center"},container:!0},c.a.createElement(S.a,{variant:"h5"},"Search and select a podcast first!")):c.a.createElement(v.a,{item:!0,container:!0,xs:10,justify:"center",style:{marginTop:"10px"},spacing:3},c.a.createElement(v.a,{item:!0},c.a.createElement(k.a,null,c.a.createElement(P.a,{className:o.media,image:t.artworkUrl600,title:t.collectionName}))),c.a.createElement(v.a,{item:!0,container:!0,xs:4,justify:"center",direction:"column"},c.a.createElement(v.a,{item:!0},c.a.createElement(S.a,{variant:"h4"},t.collectionName)),c.a.createElement(v.a,{item:!0,style:{marginTop:"15px"}},c.a.createElement(S.a,{variant:"subtitle1"},"by ",t.artistName)),c.a.createElement(v.a,{item:!0},c.a.createElement(S.a,{variant:"subtitle1"},"Genre: ",t.primaryGenreName)),c.a.createElement(v.a,{item:!0},c.a.createElement(I.a,{control:c.a.createElement(U.a,{checked:s,onChange:function(){r(!s,t)}}),label:"Subscribe",style:{marginTop:"15px"}}))),c.a.createElement(v.a,{item:!0,xs:12,style:{margin:"-10px"}}),c.a.createElement(v.a,{item:!0},c.a.createElement(S.a,{variant:"h5",style:{marginBottom:"10px"}},"All Episodes"),c.a.createElement(L,{tracks:a,onTrackSelect:n})))},W=function(e){var t=e.subscriptions,a=e.setSelectedPodcast;return c.a.createElement(v.a,{item:!0,xs:10,style:{marginTop:"15px"}},c.a.createElement(w,{subscriptionList:!0,podcasts:t,onPodcastSelect:a}))},J=a(96),M=a.n(J),q=function(e){var t=e.selectedPodcast;return c.a.createElement(M.a,{style:{width:"30vw",marginLeft:"auto"},src:t,autoPlay:!0,controls:!0})},z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getPodcast=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toString().replace(/[^a-zA-Z0-9]/g," "),a="https://itunes.apple.com/search?term=".concat(t,"&entity=podcast"),e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,console.log(r),n.setState({podcasts:r.results,tracks:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setSelectedPodcast=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,c,r,s,o,i,m,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.trackId,c="https://cors-anywhere.herokuapp.com/",e.next=4,fetch(c+"https://itunes.apple.com/lookup?id=".concat(a,"&entity=podcast"));case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,e.next=10,fetch(c+s.results[0].feedUrl);case 10:return o=e.sent,e.next=13,o.text();case 13:i=e.sent,m=(new y.DOMParser).parseFromString(i,"text/xml"),u=m.getElementsByTagName("item"),n.setState({selectedPodcast:t,podcastDocument:m,tracks:u,selectedTab:1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setSelectedTrack=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({selectedTrackUrl:t.getElementsByTagName("enclosure")[0].getAttribute("url")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTabChange=function(e,t){n.setState({selectedTab:t})},n.toggleSubscription=function(e,t){var a=n.state.subscriptions;e?a.push(t):a=a.filter((function(e){return e.collectionId!==t.collectionId})),n.setState({subscriptions:a}),alert("".concat(e?"Added":"Removed",' "').concat(t.collectionName,'" ').concat(e?"to":"from"," subscriptions"))},n.state={selectedTab:0,podcasts:void 0,selectedPodcast:void 0,podcastDocument:void 0,tracks:void 0,selectedTrackUrl:void 0,subscriptions:[]},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.podcasts,a=e.selectedPodcast,n=e.selectedTab,r=e.tracks,s=e.selectedTrackUrl,o=e.subscriptions,i=o.includes(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{position:"sticky"},c.a.createElement(g.a,null,c.a.createElement(f.a,{value:n,onChange:this.handleTabChange},c.a.createElement(b.a,{label:"Search Podcast"}),c.a.createElement(b.a,{label:"Episodes"}),c.a.createElement(b.a,{label:"Subscriptions"})),c.a.createElement(q,{selectedPodcast:s}))),c.a.createElement(v.a,{style:{justifyContent:"center"},container:!0,spacing:0},0===n&&c.a.createElement(B,{podcasts:t,getPodcast:this.getPodcast,setSelectedPodcast:this.setSelectedPodcast}),1===n&&c.a.createElement(R,{subscribed:i,selectedPodcast:a,tracks:r,setSelectedTrack:this.setSelectedTrack,toggleSubscription:this.toggleSubscription}),2===n&&c.a.createElement(W,{subscriptions:o,setSelectedPodcast:this.setSelectedPodcast})))}}]),a}(c.a.Component);s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null),c.a.createElement(z,null)),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.cac7b723.chunk.js.map